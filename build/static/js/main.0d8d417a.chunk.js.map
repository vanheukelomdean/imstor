{"version":3,"sources":["Home.js","Login.js","Profile.js","SignUp.js","App.js","index.js","Images.js","ImageModal.js"],"names":["Home","props","state","user","redirect","this","setUser","setState","Container","href","React","Component","Login","email","emailFeedback","class","message","pwd","pwdFeedback","authFeedback","event","target","id","value","pwdfeedback","clearState","length","a","password","axios","get","params","then","response","data","res","align","to","pathname","for","type","onChange","inputStateChange","bind","onClick","handleSubmit","changeForm","Profile","name","Signup","nameFeedback","valid","pwd1","pwd1Feedback","pwd2","pwd2Feedback","console","log","users","map","e","test","String","toLowerCase","usrFeedback","validEmail","validateEmail","uniqueEmail","includes","post","addUser","overallFeedback","setTimeout","App","getInitialState","setSelectedOption","selectedOption","localStorage","getItem","option","setItem","render","location","history","Fragment","style","position","onSelect","selected","push","Toggle","Nav","eventKey","icon","faHome","fontSize","faUser","faImages","path","Images","SignUp","ReactDOM","StrictMode","document","getElementById","imgs","rerender","rerenderParentCallback","i","records","record","file","files","Body","forceUpdate","index","filename","array","splice","img","className","title","onRemove","faTrash","private","faEyeSlash","faEye","src","Buffer","from","toString","description","moment","Date","date","format","customStyles","content","top","left","height","right","bottom","transform","ImageModal","onSubmit","FormData","x","append","desc","closeModal","isOpen","checked","openModal","faPlus","onAfterOpen","afterOpenModal","onRequestClose","contentLabel","switchChange","multiple","fileChange"],"mappings":"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","file":"static/js/main.0d8d417a.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Container, Col, Row, Card} from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass Home extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = { user: this.props.user,\r\n                    redirect: false\r\n                };\r\n  }\r\n\r\n  handleSubmit() {\r\n    this.props.setUser(null)\r\n    this.setState({\r\n      redirect: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n          <h1> Welcome to imstor</h1>\r\n          <h3> An image repository webapp created by Dean Van Heukelom</h3>\r\n          <h5> Take a look at the source code <a href=\"https://github.com/vanheukelomdean/imstor/\">here</a>.</h5>\r\n      </Container>\r\n      )\r\n    }\r\n  }\r\n\r\nexport default Home;","import React from 'react';\r\nimport './App.css';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction login(user) {\r\n    return axios.get(`http://localhost:3000/api/users/login`, { params: user}).then(response => {\r\n      return response.data;\r\n    })\r\n}\r\n\r\nclass Login extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = { \r\n            email: \"\", emailFeedback: {class: \"\", message: \"\"},\r\n            pwd: \"\", pwdFeedback: {class: \"\", message: \"\"},\r\n            redirect: false, authFeedback: {class: \"\", message: \"\"},\r\n            setUser: this.props.setUser\r\n        };\r\n    }\r\n\r\n    inputStateChange(event) {\r\n        if (event.target.id=== \"usr\"){\r\n            this.setState({\r\n                email: event.target.value,\r\n                emailFeedback: {class: \"\", message: \"\"}\r\n            });\r\n        } else if (event.target.id === \"pwd\"){\r\n            this.setState({\r\n                pwd: event.target.value,\r\n                pwdfeedback: {class: \"\", message: \"\"}\r\n            });\r\n        }\r\n    }\r\n\r\n    clearState() {\r\n        this.setState({\r\n            emailFeedback: {class: \"\", message: \"\"},\r\n            pwdFeedback: {class: \"\", message: \"\"}\r\n        });\r\n    }\r\n\r\n    handleSubmit(){\r\n        this.clearState();\r\n        if (this.state.email.length==0){\r\n            this.setState({\r\n                emailFeedback: {class: \"form-control is-invalid\", message: \"Please enter your email\"}\r\n            });\r\n        } \r\n        else if (this.state.pwd.length == 0){\r\n            this.setState({\r\n                pwdFeedback: {class: \"form-control is-invalid\", message: \"Please enter your password\"}\r\n            });\r\n        }  \r\n        else {\r\n            (async () => {\r\n                const res = await login({email: this.state.email, \r\n                                password: this.state.pwd});\r\n                if (res) {\r\n                    this.setState({\r\n                        redirect: true,\r\n                        user: res\r\n                    });\r\n                    this.state.setUser(this.state.user);\r\n                } else {\r\n                    this.setState({\r\n                        authFeedback: {class: \"form-control is-invalid\", message: \"Incorrect email or password.\"}\r\n                    });\r\n                }\r\n            })();\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div class=\"container\" align=\"center\">\r\n          <br/>\r\n          <h1 class=\"text-center\">Login to access private images</h1>\r\n            { this.state.redirect &&\r\n                    <Redirect to= {{\r\n                        pathname: \"images\"\r\n                    }} />\r\n            }\r\n            <div id=\"authfeedback\" class={this.state.authFeedback.class}>{this.state.authFeedback.message}</div>    \r\n          <form>\r\n                <div class=\"form-group\">\r\n                    <label for=\"usr\">Email:</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"usr\" value={this.state.email} onChange={this.inputStateChange.bind(this)}/>\r\n                    <div id=\"usrfeedback\" class={this.state.emailFeedback.class}>{this.state.emailFeedback.message}</div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"pwd\">Password:</label>\r\n                    <input type=\"password\" class=\"form-control\" id=\"pwd\" value={this.state.pwd} onChange={this.inputStateChange.bind(this)}/>\r\n                    <div id=\"pwdfeedback\" class={this.state.pwdFeedback.class}>{this.state.pwdFeedback.message}</div>\r\n                </div>\r\n               \r\n                <input type=\"button\" value=\"Login\" id=\"login\" class=\"btn form-btn\" onClick={this.handleSubmit.bind(this)}/>\r\n\r\n                <Link to=\"/signup\">\r\n                    <input type=\"button\" value=\"Sign Up\" id=\"signup\" class=\"btn form-btn\" onClick={this.props.changeForm}/>\r\n                </Link>\r\n          </form>\r\n          \r\n        </div>\r\n      );\r\n    }\r\n  } export default Login;","import React from 'react';\r\nimport {Container, Col, Row, Card} from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass Profile extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = { user: this.props.user,\r\n                    redirect: false\r\n                };\r\n  }\r\n\r\n  handleSubmit() {\r\n    this.props.setUser(null)\r\n    this.setState({\r\n      redirect: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        {\r\n          this.state.redirect &&\r\n          <Redirect to=\"/home\"/>\r\n        }\r\n        {\r\n            this.state.user && \r\n            <div>\r\n                <h4> Logged in as {this.state.user.name}.</h4> \r\n                <p> Navigate to images page on side bar to store/view images.</p>\r\n                <input type=\"button\" value=\"Logout\" id=\"login\" class=\"btn form-btn\" onClick={this.handleSubmit.bind(this)}/>\r\n            </div>\r\n        }\r\n      </Container>\r\n      )\r\n    }\r\n  }\r\n\r\nexport default Profile;","import React from 'react';\r\nimport './App.css';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction getUsers(user) {\r\n    console.log(\"ghetUSers\");\r\n    return axios.get(`http://localhost:3000/api/users/getUsers`).then(response => {\r\n        console.log(response.data)\r\n      return response.data;\r\n    })\r\n}\r\n\r\nfunction addUser(user) {\r\n    return axios.post(`http://localhost:3000/api/users/addUser`, {}, {params: {user: user}}).then(response => {\r\n      return response.data;\r\n    })\r\n}\r\n\r\nclass Signup extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = { \r\n            name: \"\", nameFeedback: {class: \"\", message: \"\", valid: false}, \r\n            pwd1: \"\", pwd1Feedback: {class: \"\", message: \"\", valid: false}, \r\n            pwd2: \"\", pwd2Feedback: {class: \"\", message: \"\", valid: false},\r\n            email: \"\", emailFeedback: {class: \"\", message: \"\", valid: false},\r\n            setUser: this.props.setUser,\r\n            redirect: false\r\n        };\r\n\r\n        (async () => {\r\n            this.state.users = (await getUsers()).map(e => e.email);\r\n        })();\r\n    }\r\n    \r\n    validateEmail(email) {\r\n        const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(email).toLowerCase());\r\n    }\r\n\r\n    inputStateChange(event){\r\n      if (event.target.id===\"usr\"){\r\n        var usrFeedback = this.state.nameFeedback;\r\n  \r\n        if (event.target.value.length > 0){\r\n            usrFeedback.class = \"form-control is-valid\";\r\n            usrFeedback.message = \"Name is OK\";\r\n            usrFeedback.valid = true;\r\n        } else {\r\n            usrFeedback.class = \"form-control is-invalid\";\r\n            usrFeedback.message = \"Please Enter Your Name\";\r\n            usrFeedback.valid = false;\r\n        } \r\n  \r\n        this.setState({\r\n          name: event.target.value,\r\n          nameFeedback: usrFeedback\r\n        });\r\n      }\r\n  \r\n      else if (event.target.id === \"pwd\"){\r\n        var usrFeedback = this.state.pwd1Feedback;\r\n  \r\n        if (event.target.value.length > 8){\r\n            usrFeedback.class = \"form-control is-valid\";\r\n            usrFeedback.message = \"Password is OK\";\r\n            usrFeedback.valid = true;\r\n        } else {\r\n            usrFeedback.class = \"form-control is-invalid\";\r\n            usrFeedback.message = \"Password must be atleast 8 characters\";\r\n            usrFeedback.valid = false;\r\n        } \r\n        \r\n        if (this.state.pwd2.length > 0){\r\n            if (event.target.value !== this.state.pwd2){\r\n                this.setState({pwd2Feedback: {message: \"Passwords do not match!\", class: \"form-control is-invalid\", valid: false}});\r\n            }\r\n            else {\r\n                this.setState({pwd2Feedback: {message: \"Passwords Match\", class: \"form-control is-valid\", valid: true}});\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n          pwd1: event.target.value,\r\n          pwd1Feedback: usrFeedback\r\n        });\r\n      }\r\n  \r\n      else if (event.target.id === \"confirm-pwd\"){\r\n        var usrFeedback = this.state.pwd2Feedback;\r\n  \r\n        if (event.target.value === this.state.pwd1){\r\n            usrFeedback.class = \"form-control is-valid\";\r\n            usrFeedback.message = \"Passwords Match\";\r\n            usrFeedback.valid = true;\r\n        } else {\r\n            usrFeedback.class = \"form-control is-invalid\";\r\n            usrFeedback.message = \"Passwords do not match!\";\r\n            usrFeedback.valid = false;\r\n        }\r\n  \r\n        this.setState({\r\n          pwd2: event.target.value,\r\n          pwd2Feedback: usrFeedback\r\n        });\r\n      }\r\n  \r\n      else if (event.target.id === \"email\"){\r\n        var usrFeedback = this.state.emailFeedback;\r\n        var validEmail = this.validateEmail(event.target.value);\r\n        var uniqueEmail = !this.state.users.includes(event.target.value);\r\n        \r\n        usrFeedback.class = (validEmail && uniqueEmail) ? \"form-control is-valid\" : \"form-control is-invalid\";\r\n        usrFeedback.message = (validEmail) ? \"Email is OK\" : \"Please enter a valid Email\";\r\n        usrFeedback.message = (uniqueEmail) ? \"Email is OK\" : \"This email is already registered\";\r\n        usrFeedback.valid = validEmail && uniqueEmail;\r\n\r\n  \r\n        this.setState({\r\n          email: event.target.value,\r\n          emailFeedback: usrFeedback\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n    handleSubmit(){\r\n\r\n        console.log(this.state.nameFeedback.valid, this.state.pwd1Feedback.valid, this.state.pwd2Feedback.valid, this.state.emailFeedback.valid)\r\n        if (this.state.nameFeedback.valid&&this.state.pwd1Feedback.valid&&this.state.pwd2Feedback.valid&&this.state.emailFeedback.valid){\r\n            const user =  {email: this.state.email, \r\n                            password: this.state.pwd1, \r\n                            name: this.state.name};\r\n\r\n            addUser(user);\r\n\r\n            this.props.setUser(user);\r\n\r\n            this.setState({redirect: true,\r\n                            user: user});\r\n\r\n        } else {\r\n            if (this.state.name.length===0){\r\n                this.setState({nameFeedback: {class:\"form-control is-invalid\", message: \"Enter name\"}});\r\n            } if (this.state.pwd1.length===0){\r\n                this.setState({pwd1Feedback: {class:\"form-control is-invalid\", message: \"Enter a password\"}});\r\n            } if (this.state.pwd2.length===0){\r\n                this.setState({pwd2Feedback: {class:\"form-control is-invalid\", message: \"Confirm password\"}});\r\n            } if (this.state.email.length===0){\r\n                this.setState({emailFeedback: {class:\"form-control is-invalid\",message: \"Enter a valid email\"}});\r\n            } \r\n\r\n            this.setState({overallFeedback: {class:\"form-control is-invalid\", message: \"Please fix errors with the form\"}});\r\n            setTimeout(function() {\r\n                this.setState({overallFeedback: {class:\"\", message: \"\"}});\r\n            }.bind(this), 2500);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state)\r\n      return (\r\n        <div class=\"container\" align=\"center\">\r\n            { this.state.redirect &&\r\n                    <Redirect to= {{\r\n                        pathname: \"images\"\r\n                    }} />\r\n            }\r\n            <br/>\r\n            <h1 class=\"text-center\">Sign Up</h1>\r\n            <form>\r\n                <div class=\"form-group required\">\r\n                    <label for=\"usr\" class=\"control-label\">Name:</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"usr\" value={this.state.name} onChange={this.inputStateChange.bind(this)}/>\r\n                    <div id=\"usrfeedback\" class={this.state.nameFeedback.class}>{this.state.nameFeedback.message}</div>\r\n                </div>\r\n                <div class=\"form-group required\">\r\n                    <label for=\"email\" class=\"control-label\">Email:</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"email\" value={this.state.email} onChange={this.inputStateChange.bind(this)}/>\r\n                    <div id=\"emailfeedback\" class={this.state.emailFeedback.class}>{this.state.emailFeedback.message}</div>\r\n                </div>\r\n                <div class=\"form-group required\">\r\n                    <label for=\"pwd\" class=\"control-label\">Password:</label>\r\n                    <input type=\"password\" class=\"form-control\" id=\"pwd\" value={this.state.pwd1} onChange={this.inputStateChange.bind(this)}/>\r\n                    <div id=\"usrfeedback\" class={this.state.pwd1Feedback.class}>{this.state.pwd1Feedback.message}</div>\r\n                </div>\r\n                <div class=\"form-group required\">\r\n                    <label for=\"confirm-pwd\" class=\"control-label\">Confirm Password:</label>\r\n                    <input type=\"password\" class=\"form-control\" id=\"confirm-pwd\" value={this.state.pwd2} onChange={this.inputStateChange.bind(this)}/>\r\n                    <div id=\"pwdfeedback\" class={this.state.pwd2Feedback.class}>{this.state.pwd2Feedback.message}</div>\r\n                </div>\r\n\r\n                <input type=\"button\" value=\"Sign up\" id=\"signup\" class=\"btn form-btn\" onClick={this.handleSubmit.bind(this)} />\r\n            </form>\r\n        </div>\r\n      );\r\n    }\r\n} export default Signup;","import React from 'react';\r\nimport {BrowserRouter as Router, Route, NavLink, Redirect} from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHome, faImages, faSearch, faUser} from '@fortawesome/free-solid-svg-icons';\r\nimport SideNav, { Toggle, Nav, NavItem, NavIcon, NavText } from '@trendmicro/react-sidenav';\r\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\r\nimport Home from './Home';\r\nimport Login from './Login';\r\nimport Profile from './Profile';\r\nimport SignUp from './SignUp';\r\nimport Images from './Images';\r\nimport './App.css';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        user: null\r\n    };\r\n\r\n    this.getInitialState();\r\n\r\n    this.setUser = this.setUser.bind(this);\r\n  }\r\n\r\n  setUser (user) {\r\n    this.setSelectedOption(this.state);\r\n    this.setState({\r\n        user: user\r\n    });\r\n  }\r\n\r\n    getInitialState() {\r\n        console.log(\"get initial\");\r\n        var selectedOption = localStorage.getItem( 'SelectedOption' ) || 1;\r\n        return {\r\n            selectedOption: selectedOption\r\n        };\r\n    }\r\n\r\n    setSelectedOption (option) {\r\n        localStorage.setItem( 'SelectedOption', option );\r\n        console.log(option);\r\n        this.setState( { selectedOption: option } );\r\n    }\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Route render={({ location, history }) => (\r\n        <React.Fragment>\r\n            <SideNav style={{position: \"fixed\"}}\r\n                onSelect={(selected) => {\r\n                    const to = '/' + selected;\r\n                    if (location.pathname !== to) {\r\n                        history.push(to);\r\n                    }\r\n                }}\r\n            >\r\n            <SideNav.Toggle />\r\n            <SideNav.Nav >\r\n                <NavItem eventKey=\"home\">\r\n                    <NavIcon>\r\n                        <FontAwesomeIcon icon={faHome} style={{ fontSize: '1.75em' }}/>\r\n                    </NavIcon>\r\n                    <NavText>\r\n                        Home\r\n                    </NavText>\r\n                </NavItem>\r\n                <NavItem eventKey=\"login\">\r\n                    <NavIcon>\r\n                        <FontAwesomeIcon icon={faUser} style={{ fontSize: '1.75em' }}/>\r\n                    </NavIcon>\r\n                    <NavText>\r\n                        User\r\n                    </NavText>\r\n                </NavItem>\r\n                <NavItem eventKey=\"images\">\r\n                    <NavIcon>\r\n                        <FontAwesomeIcon icon={faImages} style={{ fontSize: '1.75em' }}/>\r\n                    </NavIcon>\r\n                    <NavText>\r\n                        Images\r\n                    </NavText>\r\n                </NavItem>\r\n            </SideNav.Nav>\r\n        </SideNav>\r\n\r\n        <main>\r\n            <Route path=\"/home\" render={(props) => (<Home />)}/>\r\n            <Route path=\"/images\" render={(props) => (<Images user = {this.state.user} {...props}/>)}/>\r\n            <Route path=\"/login\" render={(props) => (this.state.user? \r\n                                                    <Profile user = {this.state.user} setUser = {this.setUser}/>: \r\n                                                    <Login setUser = {this.setUser}/>)}/>\r\n            <Route path=\"/signup\" render={(props) => (<SignUp setUser = {this.setUser}/>)}/>\r\n        </main>\r\n        </React.Fragment>\r\n        )}\r\n        />\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","import React from 'react';\r\nimport {Container, Col, Row, Card, Button} from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport moment from 'moment'\r\nimport ImageModal from './ImageModal';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash, faEye, faEyeSlash} from '@fortawesome/free-solid-svg-icons';\r\n//import imageRoutes from './server/routes/imageRoutes';\r\n\r\nfunction encode(data){\r\n  let buf = Buffer.from(data);\r\n  let base64 = buf.toString('base64');\r\n  return base64\r\n}\r\n\r\nfunction getImages(email) {\r\n  return axios.get(`http://localhost:3000/api/images/viewPublic`, {params: {email: email}}).then(response => {\r\n    return response.data;\r\n  })\r\n}\r\n\r\nfunction remove(filename) {\r\n  console.log( {file: filename})\r\n  return axios.post(`http://localhost:3000/api/images/remove`, {}, {params: {file: filename}}).then(response => {\r\n    console.log(response.data)\r\n    return response.data;\r\n  })\r\n}\r\n\r\nclass Images extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {imgs: [],\r\n                  user: this.props.user?? {},\r\n                  rerender: false\r\n                };\r\n\r\n    // refresh callback\r\n    this.rerenderParentCallback =  this.rerenderParentCallback.bind(this),\r\n\r\n    getImages(this.state.user.email).then(res => {\r\n      var imgs = []\r\n      for (var i = 0; i < res.records.length; i++) {\r\n        imgs.push({\r\n            record: res.records[i],\r\n            file: res.files[i].Body.data\r\n        });\r\n      }\r\n      this.setState({imgs: imgs});\r\n\r\n      console.log(this.state);\r\n    });\r\n  }\r\n\r\n  rerenderParentCallback() {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  onRemove(index) {\r\n    var array = [...this.state.imgs];\r\n    console.log(\"onremove \" + index + \" \" + array[index].record.path)\r\n    remove(array[index].record.path);\r\n    array.splice(index, 1);\r\n    this.setState({imgs: array});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n          <Row>    \r\n          <ImageModal user={this.state.user} rerenderParentCallback={this.rerenderParentCallback}/>\r\n            {this.state.imgs.map((img, index) => \r\n\r\n              <Col className = \"col-md-4\">\r\n                  <Card>\r\n                    {\r\n                      img.record.email && img.record.email == this.state.user.email &&\r\n                      <button type=\"submit\" title=\"Remove Image\" className=\"btn-delete\" onClick={this.onRemove.bind(this, index)}>\r\n                        <FontAwesomeIcon icon={faTrash} className=\"delete\" style={{ fontSize: '1.5em' }}/>\r\n                      </button>\r\n\r\n                    }\r\n\r\n                    <FontAwesomeIcon icon={img.record.private? faEyeSlash: faEye} className=\"privacy\" style={{ fontSize: '1.5em' }}/>\r\n                    <img src={`data:image/jpeg;base64,${encode(img.file)}`} />\r\n                    <Card.Body>\r\n                      <p class = \"title\">{img.record.title}</p>\r\n                      <p class = \"desc\">{img.record.description}</p>\r\n                      <p class = \"date\">{moment(new Date(img.record.date)).format('LLLL')}</p>\r\n                    </Card.Body>\r\n                  </Card>\r\n              </Col>\r\n            )}\r\n          </Row>\r\n      </Container>\r\n      )\r\n    }\r\n  }\r\n\r\nexport default Images;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Row, Col} from 'react-bootstrap';\r\nimport Modal from 'react-modal';\r\nimport Switch from 'react-switch';\r\nimport axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst customStyles = {\r\n    content : {\r\n      top                   : '50%',\r\n      left                  : '50%',\r\n      height                : '40%',\r\n      right                 : 'auto',\r\n      bottom                : 'auto',\r\n      transform             : 'translate(-50%, -50%)',\r\n      \"z-index\"             :  '1'\r\n    }\r\n  };\r\n\r\nclass ImageModal extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isOpen: false,\r\n                        private: false,\r\n                        user: this.props.user?? {}};\r\n        console.log(this.state)\r\n    }\r\n\r\n    openModal() {\r\n        this.setState({isOpen: true});\r\n    }\r\n      \r\n    afterOpenModal() {\r\n        // references are now sync'd and can be accessed.\r\n        //subtitle.style.color = '#f00';\r\n    }\r\n     \r\n    closeModal(){\r\n        this.setState({isOpen: false});\r\n    }\r\n\r\n    inputStateChange(event) {\r\n        if (event.target.id=== \"title\"){\r\n            this.setState({\r\n                title: event.target.value\r\n            });\r\n        } else if (event.target.id === \"desc\"){\r\n            this.setState({\r\n                desc: event.target.value\r\n            });\r\n        } \r\n    }\r\n\r\n    fileChange(e) {\r\n        this.setState({files: e.target.files});\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const data = new FormData();\r\n        var files = [];\r\n        for(var x = 0; x< this.state.files.length; x++) {\r\n            data.append('file', this.state.files[x])\r\n            files.push({\r\n                title: this.state.title + (x>0? \"_\" + x:\"\"),\r\n                path: this.state.files[x].name,\r\n                description: this.state.desc,\r\n                private: this.state.private,\r\n                email: this.state.user.email\r\n            });\r\n            console.log(this.state.files[x]);\r\n        }\r\n\r\n        this.closeModal();\r\n\r\n        axios.post(\"http://localhost:3000/api/images/upload\", data, {params: files});\r\n\r\n        this.props.rerenderParentCallback();\r\n    }\r\n\r\n    switchChange(checked) {\r\n        this.setState({private: checked });\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Col className=\"col-md-4\">\r\n                <button id=\"btn-add\"  type=\"submit\" title=\"Add Images\" onClick={this.openModal.bind(this)}>\r\n                    <FontAwesomeIcon icon={faPlus} style={{ fontSize: '10em' }}/>\r\n                </button>\r\n                <Modal\r\n                    isOpen={this.state.isOpen}\r\n                    onAfterOpen={this.afterOpenModal.bind(this)}\r\n                    onRequestClose={this.closeModal.bind(this)}\r\n                    style={customStyles}\r\n                    contentLabel=\"Example Modal\">\r\n                    \r\n                    <form>\r\n                        <h4 id=\"modal-header\"> Add Images</h4>\r\n                        <div class=\"form-group\">\r\n                            <label for=\"title\">Title</label>\r\n                            <input type=\"text\" class=\"\" id=\"title\" value={this.state.title} onChange={this.inputStateChange.bind(this)}/>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <label for=\"desc\">Description</label>\r\n                            <textarea type=\"text\" class=\"\" id=\"desc\" value={this.state.desc} onChange={this.inputStateChange.bind(this)}/>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <label for=\"access\">Private</label>\r\n                            <Switch id = \"privacy\" checked={this.state.private} onChange={this.switchChange.bind(this)} />\r\n                        </div>\r\n                        <input  type=\"file\" className=\"\" multiple onChange={this.fileChange.bind(this)}/>\r\n                        <Row> \r\n                            <button type=\"button\" className=\"btn btn-success btn-block btn-file\" id=\"file-submit\" onClick={this.onSubmit.bind(this)}>Upload</button>\r\n                            <button type=\"button\" className=\"btn btn-danger btn-block btn-file\" id=\"file-cancel\" onClick={this.closeModal.bind(this)}>Close</button> \r\n                        </Row> \r\n                    </form>\r\n                </Modal>\r\n            </Col>\r\n        )\r\n    }\r\n  }\r\n\r\nexport default ImageModal;"],"sourceRoot":""}